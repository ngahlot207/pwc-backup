<template>
  <div if:true={showSpinner}>
    <lightning-spinner alternative-text="Loading..." variant="brand" class="slds-is-fixed">
    </lightning-spinner>
</div>
<template if:true={showCloneButton}>
  <div class="slds-clearfix">
    <lightning-button class="slds-float_right slds-p-around_x-small" label="Clone Technical Details" variant="brand"
      onclick={handleCloneMethod} disabled={disableMode}></lightning-button>
  </div>
  </template>

  <lightning-card>
    <lightning-layout multiple-rows="12">
      <lightning-layout-item
        size="12"
        small-device-size="12"
        medium-device-size="12"
        large-device-size="12"
      >
      </lightning-layout-item>
      <!-- <lightning-layout-item
        size="12"
        small-device-size="12"
        medium-device-size="6"
        large-device-size="3"
      >
        <div class="slds-p-around_x-small">
          <lightning-input
            type="text"
            value={colProp}
            label="Collateral Address"
            data-name=""
            required="true"
            onchange={handleInputChange}
            disabled
          ></lightning-input>
        </div>
      </lightning-layout-item> -->

      <lightning-layout-item
        size="12"
        small-device-size="12"
        medium-device-size="6"
        large-device-size="3"
      >
        <div class="slds-p-around_x-small">
          <lightning-input
            type="text"
            value={mainApp}
            data-name=""
            label="Main Applicant Name"
            required="true"
            onchange={handleInputChange}
            disabled
          ></lightning-input>
        </div>
      </lightning-layout-item>

      <lightning-layout-item
      size="12"
      small-device-size="12"
      medium-device-size="6"
      large-device-size="3"
    >
      <div class="slds-p-around_x-small">
        <lightning-combobox
          value={propType}
          label="Property Type"
          options={propOptions}
          onchange={handleInputChange}
          data-name="PropType__c"
          required="true"
          disabled
        >
        </lightning-combobox>
      </div>
    </lightning-layout-item>

    <lightning-layout-item
    size="12"
    small-device-size="12"
    medium-device-size="6"
    large-device-size="3"
  >
    <div class="slds-p-around_x-small">
      <lightning-input
        type="text"
        value={propOwners}
        label="Property Owner(s) Name"
        data-name=""
        required="true"
        disabled
      ></lightning-input>
    </div>
  </lightning-layout-item>

      <lightning-layout-item
        size="12"
        small-device-size="12"
        medium-device-size="6"
        large-device-size="3"
      >
        <div class="slds-p-around_x-small">
          <lightning-input
            type="text"
            value={appMob}
            onchange={handleInputChange}
            data-name=""
            label="Mobile No of Borrower"
            required="true"
            disabled
          ></lightning-input>
        </div>
      </lightning-layout-item>

      <lightning-layout-item
        size="12"
        small-device-size="12"
        medium-device-size="6"
        large-device-size="3"
      >
        <div class="slds-p-around_x-small">
          <lightning-input
            type="tel"
            value={appPhone}
            onchange={handleInputChange}
            data-name=""
            label="Phone No of Borrower"
            disabled
          ></lightning-input>
        </div>
      </lightning-layout-item>


      <lightning-layout-item
      size="12"
      small-device-size="12"
      medium-device-size="6"
      large-device-size="3"
    >
      <div class="slds-p-around_x-small">
        <lightning-input
          type="text"
          value={houseNo}
          label="House/ Flat/ Shop/ Unit No./ Plot No"
          data-name=""
          required="true"
          onchange={handleInputChange}
          disabled
        ></lightning-input>
      </div>
    </lightning-layout-item>

       <lightning-layout-item
        size="12"
        small-device-size="12"
        medium-device-size="6"
        large-device-size="3"
      >
        <div class="slds-p-around_x-small">
          <lightning-input
            type="text"
            value={addLine1}
            label="Address Line 1"
            data-name=""
            required="true"
            onchange={handleInputChange}
            disabled
          ></lightning-input>
        </div>
      </lightning-layout-item>
     

      <lightning-layout-item
      size="12"
      small-device-size="12"
      medium-device-size="6"
      large-device-size="3"
    >
      <div class="slds-p-around_x-small">
        <lightning-input
          type="text"
          value={addLine2}
          label="Address Line 2"
          data-name=""
          required="true"
          onchange={handleInputChange}
          disabled
        ></lightning-input>
      </div>
    </lightning-layout-item>

    <lightning-layout-item
    size="12"
    small-device-size="12"
    medium-device-size="6"
    large-device-size="3"
  >
    <div class="slds-p-around_x-small">
      <lightning-input
        type="text"
        value={landmark}
        label="Landmark"
        data-name=""
        onchange={handleInputChange}
        disabled
      ></lightning-input>
    </div>
  </lightning-layout-item>

  <lightning-layout-item
  size="12"
  small-device-size="12"
  medium-device-size="6"
  large-device-size="3"
>
  <div class="slds-p-around_x-small">
    <lightning-input
      type="text"
      value={area}
      label="Area / Locality"
      data-name=""
      onchange={handleInputChange}
      disabled
    ></lightning-input>
  </div>
</lightning-layout-item>


<lightning-layout-item
size="12"
small-device-size="12"
medium-device-size="6"
large-device-size="3"
>
<div class="slds-p-around_x-small">
  <lightning-input
    type="text"
    value={city}
    label="City"
    data-name=""
    required="true"
    onchange={handleInputChange}
    disabled
  ></lightning-input>
</div>
</lightning-layout-item>


<lightning-layout-item
size="12"
small-device-size="12"
medium-device-size="6"
large-device-size="3"
>
<div class="slds-p-around_x-small">
  <lightning-input
    type="text"
    value={state}
    label="State"
    data-name=""
    required="true"
    onchange={handleInputChange}
    disabled
  ></lightning-input>
</div>
</lightning-layout-item>

<lightning-layout-item
size="12"
small-device-size="12"
medium-device-size="6"
large-device-size="3"
>
<div class="slds-p-around_x-small">
  <lightning-input
    type="text"
    value='INDIA'
    label="Country"
    data-name=""
    required="true"
    onchange={handleInputChange}
    disabled
  ></lightning-input>
</div>
</lightning-layout-item>


<lightning-layout-item
size="12"
small-device-size="12"
medium-device-size="6"
large-device-size="3"
>
<div class="slds-p-around_x-small">
  <lightning-input
    type="text"
    value={pincode}
    label="Pincode"
    data-name=""
    required="true"
    onchange={handleInputChange}
    disabled
  ></lightning-input>
</div>
</lightning-layout-item>

  
    </lightning-layout>
    <div class="slds-clearfix">
    <div if:true={showRerunVal}>
      <lightning-button
      class="slds-float_left slds-p-around_x-small"
        label="Rerun Valuation"
        variant="brand-outline"
        onclick={handleRerunVal}
        icon-name='action:recall'
        disabled={disableRerun}
      ></lightning-button>
    </div>

   
      <lightning-button
        class="slds-float_right slds-p-around_x-small"
        label="Initiate Technical"
        variant="brand"
        onclick={handleInitiate}
        icon-name="utility:connected_apps"
        disabled={disableInitiateTechnical}
      ></lightning-button>
    </div>



    <!-- <template if:true={initiateTechnical}> -->
      <template if:true={initiateTechnical}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true"
            aria-describedby="modal-content-id-1" class="my-modal slds-modal slds-fade-in-open slds-modal_medium">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <div if:true={showSpinnerModal}>
                  <lightning-spinner alternative-text="Loading..." variant="brand" class="slds-is-fixed">
                  </lightning-spinner>
              </div>
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={closeTecnicalModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">
                        Inititate Technical Case</h2>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
                  <div style="height: 200px; width: 1150px">
                    <lightning-datatable
                      data={docList}
                      columns={updatedColumns}
                      key-field="Id"
                      min-column-width="80"
                      onrowselection={handleRowSelected}
                    >
                    </lightning-datatable>
                  </div>
            
                  <lightning-layout multiple-rows="12">
                    <lightning-layout-item
                    size="12"
                    small-device-size="12"
                    medium-device-size="12"
                    large-device-size="12"
                  >
                    <div class="slds-p-around_x-small">
                      <!-- <lightning-input
                        type="text"
                        value={remarks}
                        onchange={handleInputChange}
                        data-name=""
                        label="Remarks for Technical Agency"
                        required="true"
                        disabled={disableMode}
                      ></lightning-input> -->


                      <lightning-textarea
                      type="text"
                      value={remarks}
                      name="Remarks for Technical Agency"
                      placeholder="Enter Comments"
                      label="Remarks for Technical Agency"
                      onchange={handleInputChange}
                      required="true"
                      disabled={disableMode}
                  ></lightning-textarea>
                    </div>
                  </lightning-layout-item>

                    <lightning-layout-item
                      size="12"
                      small-device-size="12"
                      medium-device-size="6"
                      large-device-size="3"
                    >
                      <div class="slds-p-around_x-small">
                        <lightning-combobox
                          value={accId1}
                          label="Agency 1"
                          options={agencyOptions1}
                          onchange={handleInputChange}
                          data-name=""
                          required="true"
                          disabled={disableMode}
                        >
                        </lightning-combobox>
                      </div>
                    </lightning-layout-item>
            
                    <lightning-layout-item
                      if:true={agency2Visible}
                      size="12"
                      small-device-size="12"
                      medium-device-size="6"
                      large-device-size="3"
                    >
                      <div class="slds-p-around_x-small">
                        <lightning-combobox
                          value={accId2}
                          label="Agency 2"
                          options={agencyOptions2}
                          onchange={handleInputChange}
                          data-name=""
                          required="true"
                          disabled={disableMode}
                        >
                        </lightning-combobox>
                      </div>
                    </lightning-layout-item>
                  </lightning-layout>
<!--             
                  <div class="slds-clearfix">
                    <lightning-button
                      class="slds-float_center slds-p-around_x-small"
                      label="Create Case"
                      variant="brand-variant"
                      onclick={handleCase}
                      icon-name="standard:case"
                      disabled={disableMode}
                    ></lightning-button>
                  </div> -->
                </div>
                <!-- Modal/Popup Box LWC footer starts here -->
                <footer class="slds-modal__footer">
                  <button class="slds-button slds-button_brand" onclick={handleCase} title="Yes">Yes</button>
                  <button class="slds-button slds-button_neutral" onclick={closeTecnicalModal} title="No">No</button>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
<!-- POP MODAL FOR RE-INITIATE TECHNICAL -->
<template if:true={reInitiateTechnical}>
  <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-04" aria-modal="true"
      aria-describedby="modal-content-id-1" class="my-modal slds-modal slds-fade-in-open slds-modal_medium">
      <div class="slds-modal__container">
          <!-- Modal/Popup Box LWC header here -->
          <div if:true={showSpinnerModal}>
            <lightning-spinner alternative-text="Loading..." variant="brand" class="slds-is-fixed">
            </lightning-spinner>
        </div>
          <header class="slds-modal__header">
              <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                  title="Close" onclick={closeTecnicalModal}>
                  <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                      size="small"></lightning-icon>
                  <span class="slds-assistive-text">Close</span>
              </button>
              <h2 id="modal-heading-04" class="slds-text-heading_medium slds-hyphenate">
                  Re-Inititate Technical Case</h2>
          </header>
          <!-- Modal/Popup Box LWC body starts here -->
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4">
            <div style="height: 200px; width: 1150px">
              <lightning-datatable
                data={docList}
                columns={updatedColumns}
                key-field="Id"
                min-column-width="80"
                onrowselection={handleRowSelected}
              >
              </lightning-datatable>
            </div>
      
            <lightning-layout multiple-rows="12">
              <lightning-layout-item
              size="12"
              small-device-size="12"
              medium-device-size="12"
              large-device-size="12"
            >
              <div class="slds-p-around_x-small">
                <lightning-textarea
                type="text"
                value={remarks}
                name="Remarks for Technical Agency"
                placeholder="Enter Comments"
                label="Remarks for Technical Agency"
                onchange={handleInputChange}
                required="true"
                disabled={disableMode}
            ></lightning-textarea>
              </div>
            </lightning-layout-item>
      
              <lightning-layout-item
                size="12"
                small-device-size="12"
                medium-device-size="6"
                large-device-size="3"
              >
                <div class="slds-p-around_x-small">
                  <lightning-combobox
                    value={accId1}
                    label="Agency 1"
                    options={agencyOptions1}
                    onchange={handleInputChange}
                    data-name=""
                    required="true"
                    disabled={disableMode}
                  >
                  </lightning-combobox>
                </div>
              </lightning-layout-item>
            </lightning-layout>

          </div>
          <!-- Modal/Popup Box LWC footer starts here -->
          <footer class="slds-modal__footer">
              <button class="slds-button slds-button_neutral" onclick={closeTecnicalModal} title="No">No</button>
              <button class="slds-button slds-button_brand" onclick={handleCase} title="Yes">Yes</button>
          </footer>
      </div>
  </section>
  <div class="slds-backdrop slds-backdrop_open"></div>
</template>
     
    <!-- </template> -->

   

    <template if:true={caseRecordsData}>
      <!-- <div style="height: 200px; width: 1000px;">
                    <lightning-datatable data={caseList} columns={caseColumns} key-field="Id" min-column-width="80"
                   hide-checkbox-column="">
                    </lightning-datatable>
                </div> -->

      <lightning-card title="Case Details ">
        <!-- UPDATED TABLE  -->
<div class="slds-box slds-theme_default slds-scrollable_x" style="width:200rem">
        <table
          class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered"
          aria-label="Example table of Opportunities with vertical borders"
        >
          <thead>
            <tr class="slds-line-height_reset">
              <th class="" scope="col">
                <div class="slds-truncate" title="Technical Initiation Date">
                  Technical Initiation Date
                </div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="Technical Agency Name">
                 Technical Agency Name
                </div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="Technical Agency Name">
                Contact Name
                </div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="Case No">
                  Case No
                </div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="Report Result">
                  Report Result
                </div>
              </th>
             

              <th class="" scope="col">
                <div class="slds-truncate" title="Remarks for Technical Agency">
                  Remarks for Technical Agency
                </div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="Actions">Actions</div>
              </th>
              <th class="" scope="col">
                <div class="slds-truncate" title="Cancel / Review Remarks">Cancel / Review Remarks</div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="Vendor Status">Vendor Status</div>
              </th>
  
              <th class="" scope="col">
                <div class="slds-truncate" title="Report Date">Report Date</div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="TAT">TAT</div>
              </th>

              <th class="" scope="col">
                <div class="slds-truncate" title="Re-Initiate Technical">Re-Initiate Technical</div>
              </th>




            </tr>

           
          </thead>

          <tbody>
            <template for:each={caseRecordsData} for:item="record">
              <tr
                key={record.Id}
                aria-selected="false"
                class="slds-hint-parent"
              >
              <!-- <td data-label="Technical Initiation Date">
                <div class="slds-truncate" title="Technical Initiation Date">
                  <lightning-formatted-date-time value={record.DateTimeInitiation__c} year="numeric" month="numeric" day="numeric"
                  hour="2-digit" minute="2-digit"></lightning-formatted-date-time>

                </div>
              </td> -->
              <td data-label="Technical Initiation Date">
                <div
                  class="slds-truncate"
                  title="Technical Initiation Date"
                >
                {record.initiationDate}
               
              
                </div>
              </td>

              <template if:true={record.AccountId}>
                <td data-label="Agency Name">
                  <div class="slds-truncate" title="Agency Name">
                    {record.Account.Name}
                  </div>
                </td>
              </template>
              <template if:false={record.AccountId}>
                <td data-label="Agency Name">
                  <div class="slds-truncate" title="Agency Name">
                    {record.Account.Name}
                  </div>
                </td>
              </template>

              <template if:true={record.ContactId}>
                <td data-label="Contact Name">
                  <div class="slds-truncate" title="Agency Name">
                    {record.Contact.Name}
                  </div>
                </td>
              </template>
              <template if:false={record.AccountId}>
                <td data-label="Agency Name">
                  <div class="slds-truncate" title="Agency Name">
                    {record.Contact.Name}
                  </div>
                </td>
              </template>
              
                <td data-label="Case No">
                  <div class="slds-truncate" title="Case No">
                    {record.CaseNumber}
                  </div>
                </td>
             
                <td data-label="Report Result">
                  <div class="slds-truncate" title="Report Result">
                    {record.ReportResult__c}
                  </div>
                </td>

                <td data-label="Remarks for Technical Agency">
                  <div
                    class="slds-truncate"
                    title="Remarks for Technical Agency"
                  >
                    {record.Remarks_for_Technical_Agency__c}
                  </div>
                </td>
                
                <td data-label="Actions">
                  <div class="slds-truncate" title="Actions">
                    <lightning-button
                      data-caseid={record.Id}
                      variant="success"
                      label="View"
                      title="View Details"
                      data-name="View"
                      onclick={handlebutton}
                     
                    ></lightning-button>
                    <!-- disabled={disableMode} -->
                    <lightning-button
                      data-caseid={record.Id}
                      variant="success"
                      label="Cancel"
                      title="Cancel"
                      data-name="Cancel"
                      onclick={handlebutton}
                      disabled={record.isCanDis}
                      class="slds-m-left_x-small"
                    ></lightning-button>
                    <lightning-button
                    data-caseid={record.Id}
                    data-cityid={record.CityId__c}
                    variant="success"
                    label="Review"
                    data-name="Review"
                    title="Review"
                    onclick={handlebutton}
                    disabled={record.isReviewDis}
                    class="slds-m-left_x-small"
                  ></lightning-button>
                  </div>
                </td>
                
                <td data-label="Cancel / Review Status">
                  <div
                    class="slds-truncate"
                    title="Cancel / Review Status"
                  ><template if:true={record.reviewReq}>
                    {record.ReviewerComments__c}
                  </template>
                  <template if:false={record.reviewReq}>
                    {record.Reason_for_cancelation__c}
                  </template>
                  </div>
                </td>

                <!-- <td data-label="Vendor Status">
                  <div
                    class="slds-truncate"
                    title="Vendor Status"
                  >
                    {record.Status}
                  </div>
                </td> -->

                <td data-label="Vendor Status">
                  <div class="slds-truncate" title="Vendor Status">
                    <template if:false={record.legalReviewReq}>
                      {record.Status}
                    </template>
                    <template if:true={record.legalReviewReq}>
                      {record.HubManagerReview__c}
                    </template>
                  </div>
                </td>

                <td data-label="Report Date">
                  <div
                    class="slds-truncate"
                    title="Report Date"
                  >
                  {record.ClosedDate}
                 <!-- <lightning-formatted-date-time   value={record.ClosedDate} ></lightning-formatted-date-time>-->
                
                  </div>
                </td>
                
                <td data-label="TAT">
                  <div
                    class="slds-truncate"
                    title="TAT"
                  >
                    {record.CaseTAT__c}
                  </div>
                </td>

                <td data-label="Re-Initiate Techincal">
                  <div
                    class="slds-truncate"
                    title="Re-Initiate Techincal"
                  >
                  <lightning-button
                  data-caseid={record.Id}
                  data-cityid={record.CityId__c}
                  variant="success"
                  label="Re-Intiate"
                  data-name="Re-Intiate"
                  title="Re-Intiate"
                  onclick={handleReInitiate}
                  disabled={record.isReinitDis}
                  data-status={record.Status}
                  class="slds-m-left_x-small"
                ></lightning-button>
                  </div>
                </td>
                
                </tr
            ></template>
            
           
          </tbody>
        </table>

</div>
       



        <template if:true={renderCaseDetails}>
          <!-- <p>{caseId}</p> -->
          <c-case-details loan-app-id={loanAppId} case-id={caseId} technical={showTechincal} onselect={handleValueSelect} has-edit-access={hasEditAccess}></c-case-details>
      </template>
         
        <!-- OLD TABLE TO REMOVE -->
      </lightning-card>

     

      <lightning-card>
<div class="slds-box slds-theme_default slds-scrollable_x" style="width:200rem">
        <table
        class="slds-table slds-table_cell-buffer slds-table_bordered"
        aria-label="Example table of Opportunities with vertical borders"
      >
        <thead>
          <tr class="slds-line-height_reset">

            <th class="" scope="col">
              <div class="slds-truncate" title="Technical Agency Name">
               Technical Agency Name
              </div>
            </th>

            <th class="" scope="col">
              <div class="slds-truncate" title="Case No">
                Case No
              </div>
            </th>
           
            <th class="" scope="col">
              <div class="slds-truncate" title="Technical Report Result">
                Technical Report Result
              </div>
            </th>

            <th class="" scope="col">
              <div class="slds-truncate" title="Land Area (Sq Ft)">
                Land Area (Sq Ft)
              </div>
            </th>
            <th class="" scope="col">
              <div class="slds-truncate" title="Property Built up area (Sq Ft)">Property Built up area (Sq Ft)</div>
            </th>
            <th class="" scope="col">
              <div class="slds-truncate" title="Land Valuation (₹)">Land Valuation (₹)</div>
            </th>

            <th class="" scope="col">
              <div class="slds-truncate" title="Built up area Valuation (₹)">Built up area Valuation (₹)</div>
            </th>

            <th class="" scope="col">
              <div class="slds-truncate" title="Total Valuation (₹)">Total Valuation (₹)</div>
            </th>

            <th class="" scope="col">
              <div class="slds-truncate" title="Approx. Age of Property - in Years">Approx. Age of Property - in Years</div>
            </th>

            <th class="" scope="col">
              <div class="slds-truncate" title="Residual Age - in Years">Residual Age - in Years</div>
            </th>




          </tr>

         
        </thead>

        <tbody>
          <template for:each={caseRecordsData} for:item="item">
            <tr
              key={item.Id}
              aria-selected="false"
              class="slds-hint-parent"
            >

            <template if:true={item.AccountId}>
              <td data-label="Technical Agency Name">
                <div class="slds-truncate" title="Technical Agency Name">
                  {item.Account.Name}
                </div>
              </td>
            </template>
            <template if:false={item.AccountId}>
              <td data-label="Technical Agency Name">
                <div class="slds-truncate" title="Technical Agency Name">
                  {item.Account.Name}
                </div>
              </td>
            </template>
            
              <td data-label="Case No">
                <div class="slds-truncate" title="Case No">
                  {item.CaseNumber}
                </div>
              </td>
           

              <td data-label="Technical Report Result">
                <div class="slds-truncate" title="Technical Report Result">
                 {item.ReportResult__c}
  
                </div>
              </td>

              <td data-label="Land Area (Sq Ft)">
                <div class="slds-truncate" title="Land Area (Sq Ft)">
                  {item.Land_Area_Sq_Ft__c}
                </div>
              </td>
              <td data-label="Property Built up area (Sq Ft)">
                <div
                  class="slds-truncate"
                  title="Property Built up area (Sq Ft)"
                >
                  {item.Property_Built_up_area_Sq_Ft__c}
                </div>
              </td>
              
              <td data-label="Land Valuation (₹)">
                <div class="slds-truncate" title="Land Valuation (₹)">
                  {item.Land_Valuation_in_Rs__c}
                </div>
              </td>
              
              <td data-label="Built up area Valuation (₹)">
                <div
                  class="slds-truncate"
                  title="Built up area Valuation (₹)"
                >
                  {item.Built_up_area_Valuation_In_Rs__c}
                </div>
              </td>

              <td data-label="Total Valuation (₹)">
                <div
                  class="slds-truncate"
                  title="Total Valuation (₹)"
                >
                  {item.Total_Valuation_Land_Valuation_B__c}
                </div>
              </td>

              
              <td data-label="Approx. Age of Property - in Years">
                <div
                  class="slds-truncate"
                  title="Approx. Age of Property - in Years"
                >
                  {item.Approx_Age_of_Property_in_Years__c}
                </div>
              </td>

              <td data-label="Residual Age - in Years">
                <div
                  class="slds-truncate"
                  title="Residual Age - in Years"
                >
                {item.Residual_Age_in_Years__c}
             
                </div>
              </td>
              
              </tr
          ></template>
          
         
        </tbody>
      </table>

</div>
      </lightning-card>
    

      <template if:true={isReInitiateModalOpen}>
        <section
          role="dialog"
          tabindex="-1"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
          class="my-modal slds-modal slds-fade-in-open"
        >
          <div class="slds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
              <button
                class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                title="Close"
                onclick={closeModal}
              >
                <lightning-icon
                  icon-name="utility:close"
                  alternative-text="close"
                  variant="inverse"
                  size="small"
                ></lightning-icon>
                <span class="slds-assistive-text">Close</span>
              </button>
              <h2
                id="modal-heading-01"
                class="slds-text-heading_medium slds-hyphenate"
              >
                Confirm?
              </h2>
            </header>
            <!-- Modal/Popup Box LWC body starts here -->
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-1"
            >
              <!-- <lightning-input type="text" value={caseSingleRecordData.Applicant__r.TabName__c}
                                    label="Applicant Name" disabled></lightning-input> -->
              <template if:true={showAgency}>
                <lightning-input
                  type="text"
                  value={caseSingleRecordData.Account.Name}
                  label="Old Agency Name"
                  disabled
                ></lightning-input>
                <lightning-combobox
                  name="agency"
                  label=" Select New Agency"
                  placeholder="Choose Agency"
                  value={newAgencyValue}
                  onchange={handleNewAgencyChange}
                  options={newAgencyOptions}
                >
                </lightning-combobox>
              </template>
              <lightning-combobox
                name="status"
                label={textAreaLabel}
                data-name={dataName}
                placeholder="Choose Status"
                value={textAreaValue}
                onchange={handleTextAreaChange}
                options={statusOptions}
                required
              >
              </lightning-combobox>
            </div>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
              <button
                class="slds-button slds-button_neutral"
                onclick={closeModal}
                title="No"
              >
                {noLabel}
              </button>
              <button
                class="slds-button slds-button_brand"
                data-id={caseId}
                data-name={dataName}
                onclick={handleModalYesClick}
                title="Yes"
                label={yesLabel}
              >
                Yes
              </button>
            </footer>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
      

      <template if:true={reviewModalOpen}>
        <section
          role="dialog"
          tabindex="-1"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-3"
          class="my-modal slds-modal slds-fade-in-open"
        >
          <div class="slds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
              <button
                class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                title="Close"
                onclick={closeModal}
              >
                <lightning-icon
                  icon-name="utility:close"
                  alternative-text="close"
                  variant="inverse"
                  size="small"
                ></lightning-icon>
                <span class="slds-assistive-text">Close</span>
              </button>
              <h2
                id="modal-heading-03"
                class="slds-text-heading_medium slds-hyphenate"
              >
                Confirm?
              </h2>
            </header>
            <!-- Modal/Popup Box LWC body starts here -->
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-3"
            >
            <lightning-combobox
            name="status"
            label={textAreaLabel}
            data-name={dataName}
            placeholder="Choose Status"
            value={textAreaValue}
            onchange={handleTextAreaChange}
            options={statusOptions}
            required
          >
          </lightning-combobox>
                                    <!-- <lightning-textarea
                                    type="text"
                                    value={reviewRemarks}
                                    name="Review"
                                    placeholder="Enter Comments"
                                    label="Reviewer Remarks"
                                    data-name="ReviewerComments__c"
                                    onchange={handleInputChange}
                                    required
                                ></lightning-textarea> -->
           
            </div>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
              <button
                class="slds-button slds-button_neutral"
                onclick={closeModal}
                title="No"
              >
                {noLabel}
              </button>
              <button
                class="slds-button slds-button_brand"
                data-id={caseId}
                data-name={dataName}
                onclick={handleReviewModalYesClick}
                title="Yes"
              >
                {reviewSubmitLabel}
              </button>
            </footer>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
    </template>
  </lightning-card>
</template>